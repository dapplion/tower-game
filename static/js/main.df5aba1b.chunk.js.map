{"version":3,"sources":["img/icon.png","randomNameGenerationSource/nameGenerator.js","img/win.gif","components/Header.jsx","components/GeneralFeedback.jsx","actions.js","components/DisplayGameState.jsx","selectors.js","components/ExecutePlay.jsx","components/DisplayResults.jsx","components/DisplayBalance.jsx","components/WinModal.jsx","App.js","serviceWorker.js","rootReducer.js","web3.js","rootSaga.js","store.js","index.js"],"names":["module","exports","coefficients","require","cList","Object","keys","c","cWeights","values","cK","getHexK","c_f","vList","v","vWeights","vK","v_f","totalPossibilities","k","Math","log","Number","isInteger","Error","concat","getPseudoRandomItem","list","weight","nonce","weight_sum","i","length","getC","getV","pattern","hexString","replace","wordParts","forEach","member","parseInt","slice","push","toUpperCase","join","__webpack_require__","p","mapStateToProps","createStructuredSelector","network","state","connect","_ref","react_default","a","createElement","Navbar_default","bg","className","style","borderBottom","Container_default","Brand","href","src","icon","alt","Text","name","contractAddress","type","feedback","text","Alert_default","variant","updateFeedbackError","updateFeedbackInfo","updateDx","dx","updateResult","id","event","updateResults","indexedEvents","updateNetwork","updateBalance","balance","updateGameState","gameState","updateGameSettings","gameSettings","showWinModal","data","objectSpread","show","stageWrapperId","BackgroundGradient","bottom","top","height","width","ReactKonva","fillLinearGradientStartPoint","x","y","fillLinearGradientEndPoint","fillLinearGradientColorStops","Base","props","assign","GameRect","color","handleClick","_this","setState","Konva","Util","getRandomColor","this","stroke","strokeWidth","onClick","React","Component","canvasMaxWidth","getContainerWidth","document","getElementById","offsetWidth","computeWidth","containerWidth","computeScale","DisplayGameState","_this2","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","stageWidth","stageScale","window","addEventListener","fitStageIntoParentContainer","bind","_this3","gameStateLoaded","Array","isArray","canvasWidth","startingX","lastRectX","boundRight","boundLeft","justifyContent","display","padding","margin","scaleX","scaleY","DisplayGameState_BackgroundGradient","DisplayGameState_Base","map","DisplayGameState_GameRect","key","canvasHeight","draggable","onDragStart","e","isDragging","onDragEnd","target","_lastPos","toFixed","dragBoundFunc","pos","fontSize","topReactY","shadowBlur","fill","mapDispatchToProps","getDx","getNetwork","getContractAddress","getGameSettings","getWidth","getPlayPrice","playPrice","getWinModal","winModal","s","executePlay","Big","div","round","toString","InputGroup_default","FormControl_default","placeholder","aria-label","aria-describedby","value","onChange","_dx","Append","Button_default","ExternalLinkIcon","size","xmlns","viewBox","d","TimeAgo","addLocale","en","timeAgo","byBlockNum","b","blockNumber","getTimestampMs","ts","results","link","_ref2","pending","recent","previous","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","sort","Symbol","iterator","next","done","result","error","timestamp","Date","now","err","return","items","filter","category","Fragment","_result$player","player","_result$hash","hash","_result$fallingCoins","fallingCoins","_result$timestamp","_result$error","Boolean","won","yourAddress","ethereum","selectedAddress","toLowerCase","itsYou","playerName","nameGenerator","timestampMs","date","toLocaleString","split","format","wonAmount","times","Card_default","body","opacity","String","rel","DisplayResults_ExternalLinkIcon","fontWeight","hideWinModal","Modal_default","onHide","Header","closeButton","backgroundColor","Title","Body","role","winGif","App","components_Header","Row_default","Col_default","sm","components_DisplayGameState","components_GeneralFeedback","components_ExecutePlay","DisplayBalance","components_DisplayResults","components_WinModal","location","hostname","match","globalReducers","towerGameInstance","arguments","action","defineProperty","combineReducers","web3","Web3","currentProvider","console","version","updateState","subscribeToStateChanges","initialize","getUserBalance","rootSaga","towerGameContract","regenerator_default","wrap","_context","prev","select","sent","getTowerGameInstanceHelper","getGameStateHelper","put","t0","stack","stop","_marked","subscriptionChannel","account","winAmount","_context2","eventChannel","emit","subscribeToResultsHelper","take","fork","getUserAccountWithoutEnable","t1","_marked2","networkId","networkMetadata","_context3","abrupt","eth","net","getId","networks","towerGame","address","getGameSettingsHelper","getPastResultsHelper","_marked3","options","dxScaled","play","gasEstimate","gas","txChannel","_context4","random","getUserAccount","from","methods","estimatePlayGasHelper","floor","send","on","receipt","parseReceipt","parseErrorString","message","_marked4","_context5","getBalance","_marked5","_callee","accounts","_context7","getAccounts","_callee2","_context8","enable","verifyArguments","Contract","abi","_callee3","contract","relativePositions","_context9","getCoinPositionsArray","parseGameState","_callee4","_context10","Promise","all","slicedToArray","_callee6","events","eventsIndexed","_context12","getPastEvents","fromBlock","_ref3","asyncToGenerator","mark","_callee5","block","_context11","getBlock","transactionHash","parsePlayResultEvent","_x8","apply","cb","PlayResult","_callee7","maxGas","computedGas","_context13","estimateGas","dxs","widthBigNumber","xs","reduce","xPrev","dxi","plus","gasUsed","returnValues","coinCount","parseDx","parsePlayer","dxString","dxDecimal","parseFloat","secondTopic","raw","topics","stringToReturn","possibleJsons","possibleJson","json","JSON","parse","kwargs","typeMapping","_arr","_i","_context6","takeEvery","_marked6","sagaMiddleware","createSagaMiddleware","store","createStore","rootReducer","compose","applyMiddleware","__REDUX_DEVTOOLS_EXTENSION__","run","ReactDOM","render","es","BrowserRouter","src_App_0","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.df5aba1b.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAA9CAMAAADYt8pWAAABBVBMVEVHcEwzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMXs/4zMTAWtf8XtP8zMjEXsvgxNzgXs/ooYXcvQ0oyNTYxODsvP0UWtf4nZ4AuRk8ejr8rUmEYre8bn9cwOz8ZqeoejLgjdZYsTVsXr/QmaoYapOEaodwWtf0tSVQkcpEZp+Ugha8bm9MifKEjeJseksQcl8shgKgoY3wqV2kfibUrVWUzLy0pW20bVn9DAAAAKHRSTlMAnGX1zrme/REI6foX4Twq8g0ggdxLb1PKM9bCrwWLtURrd9KnJl5X4+DLKwAAAs1JREFUSMfdludy4jAQgE1I6CSQhPQ6KWdbkm2w6RBq6D2XvP+jnHBDtiUwMzf34/afV/N5i1a7y0UfgmFdYgecKccvYVPOM5buMmlo4qEI957iTUm+GafRO96W24ihSxxamvgFF7CPg8fGceRwgyRPDd1JzFaF/j3yZCIvvhH+7kCXh+BGFQ8YulCYQEL8nuKw4k8CXCa1HxE84O73NHOXxsk4p5+pVG1Mv4nnOOVIrDSpyJme8/Sj9wTJ5epv0au/SpiVG/MaWUpgVkee2C+tyj7zGMnVoKB0PGYC9xaSuHIj054gwM+Sy8z5CWfLZdDpVusDCoIAFk4i/rwhuKizbOQywIQAXRl4TBMId01mQMxKgi5gphGupZ5IgkvfEoHka9BABKVImLlJOJDokSt2Q+BnbmPmMMJCzNhN1ya8D0RuAJvAGaiIOxE7dtNMWduFoPwYkAiRASbSLDgIIgMMxBG7KwMMxBG7KVYG6IgrdjsDiIng2KEXESQjA3QrzR6FsDJAQ1BpCKgIGLAQXlvWgNcz0F6UmI5p9fyk6jIEe/OVnGciaierVmYKaQgMB/Vcs8R0DOXmo5zW6dreQemrry5rRbTlXlbVzyxfGrWNh1yo4Y8vZaRuu300KEijEv8z7kEBVKd5tdgFNbPIWEh9BkC3qNYHH1K5IvYbEmj/iNsrWWwN4TqC71ZWljvre5rufmJFXGag25G/W2WcOzC32ywTQeoI/xoqjebaBPzw8ZBx2eg9CeqZVjp+Ogx+AW3rXkBD84Xw/MQsGtjti8ymRHZL/GzmxlW2s2RPdnVLR0/GU0/vAIWFY16mMgRwn3ENGDRQcCDjnHO+3PyKWsRbwD37kVYGsLpyT7Hg67Wx5VxQpjjqd3tN5NUnz3BAidcwbViLxUYd0Q6OTrmLOH1TkPOIZ0x+5qaE/t6m9H8h73tufXgbt3d+f4J3/j81W33NT/lhTAAAAABJRU5ErkJggg==\"","const coefficients = require(\"./coefficients.json\");\n\n// coefficients = {\n//   c: { l: 542 },\n//   v: { a: 21 },\n//   c_f: 4095,\n//   v_f: 255\n// };\n\nconst cList = Object.keys(coefficients.c);\nconst cWeights = Object.values(coefficients.c);\nconst cK = getHexK(coefficients.c_f);\nconst vList = Object.keys(coefficients.v);\nconst vWeights = Object.values(coefficients.v);\nconst vK = getHexK(coefficients.v_f);\n\nfunction getHexK(totalPossibilities) {\n  const k = Math.log(totalPossibilities + 1) / Math.log(16);\n  if (!Number.isInteger(k))\n    throw Error(\n      `totalPossibilities must be a power of 16: ${totalPossibilities}`\n    );\n  return k;\n}\n\nfunction getPseudoRandomItem(list, weight, nonce) {\n  var weight_sum = 0;\n  for (var i = 0; i < list.length; i++) {\n    weight_sum += weight[i];\n    if (nonce <= weight_sum) {\n      return list[i];\n    }\n  }\n  throw Error(\"No match found\");\n}\n\nconst getC = nonce => {\n  if (nonce > coefficients.c_f)\n    throw Error(\n      `nonce \"${nonce}\" cannot be bigger than c_f \"${coefficients.c_f}\"`\n    );\n  return getPseudoRandomItem(cList, cWeights, nonce);\n};\nconst getV = nonce => {\n  if (nonce > coefficients.v_f)\n    throw Error(\n      `nonce \"${nonce}\" cannot be bigger than v_f \"${coefficients.v_f}\"`\n    );\n  return getPseudoRandomItem(vList, vWeights, nonce);\n};\n\nconst pattern = [\"c\", \"v\", \"c\", \"v\", \"c\", \"v\"];\n\nfunction nameGenerator(hexString) {\n  if (!hexString || hexString.length < 20)\n    throw Error(\"hexString should be defined and long enough\");\n  hexString = hexString.replace(\"0x\", \"\");\n  const wordParts = [];\n  pattern.forEach(member => {\n    if (member === \"c\") {\n      const nonce = parseInt(hexString.slice(0, cK), 16);\n      hexString = hexString.slice(cK);\n      wordParts.push(getC(nonce));\n    } else if (member === \"v\") {\n      const nonce = parseInt(hexString.slice(0, vK), 16);\n      hexString = hexString.slice(vK);\n      wordParts.push(getV(nonce));\n    } else {\n      throw Error(`Unkown pattern member ${member}, must be \"c\" or \"v\"`);\n    }\n  });\n  // Make sure the first member has only 1 character\n  wordParts[0] = wordParts[0].slice(0, 1).toUpperCase();\n  return wordParts.join(\"\");\n}\n\nmodule.exports = nameGenerator;\n","module.exports = __webpack_public_path__ + \"static/media/win.06e3bf8a.gif\";","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Container from \"react-bootstrap/Container\";\nimport icon from \"../img/icon.png\";\n\nconst Header = ({ network }) => (\n  <Navbar\n    bg=\"light\"\n    className=\"justify-content-between app-header\"\n    style={{ borderBottom: \"1px solid #eeeeee\" }}\n  >\n    <Container className=\"correct-container-padding\">\n      <Navbar.Brand href=\"/\">\n        <div>\n          <img src={icon} alt=\"icon\" className=\"icon\" /> Ethereum Tower Game\n        </div>\n      </Navbar.Brand>\n      <Navbar.Text className=\"float-right\">\n        {network\n          ? `Network: ${network.name} ${\n              network.contractAddress ? \"\" : \"(Not supported)\"\n            }`\n          : \"No network\"}\n      </Navbar.Text>\n    </Container>\n  </Navbar>\n);\n\nconst mapStateToProps = createStructuredSelector({\n  network: state => state.network\n});\n\nconst mapDispatchToProps = {};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Header);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport Alert from \"react-bootstrap/Alert\";\n\nconst GeneralFeedback = ({ type, text }) => (\n  <Alert variant={type}>{text}</Alert>\n);\n\nconst mapStateToProps = createStructuredSelector({\n  type: state => (state.feedback || {}).type,\n  text: state => (state.feedback || {}).text\n});\n\nconst mapDispatchToProps = {};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(GeneralFeedback);\n","// Actions\n\n// Trigger store updates\n// =====================\n\n// towerGameInstance, default state = null\n\n// feedback, default state = null\nexport const updateFeedbackError = text => ({\n  type: \"UPDATE_FEEDBACK\",\n  feedback: { type: \"danger\", text }\n});\nexport const updateFeedbackInfo = text => ({\n  type: \"UPDATE_FEEDBACK\",\n  feedback: { type: \"info\", text }\n});\nexport const updateFeedbackSuccess = text => ({\n  type: \"UPDATE_FEEDBACK\",\n  feedback: { type: \"success\", text }\n});\n\n// dx, default state = 0\nexport const updateDx = dx => ({ type: \"UPDATE_DX\", dx });\n\n// results, default state = {}\nexport const updateResult = (id, event) => ({\n  type: \"UPDATE_RESULT\",\n  id,\n  event\n});\nexport const updateResults = indexedEvents => ({\n  type: \"UPDATE_RESULTS\",\n  indexedEvents\n});\n\n// network, default state = null\nexport const updateNetwork = network => ({ type: \"UPDATE_NETWORK\", network });\nexport const updateBalance = balance => ({\n  type: \"UPDATE_NETWORK\",\n  network: { balance }\n});\n\n// gameState, default state = null\nexport const updateGameState = gameState => ({\n  type: \"UPDATE_GAME_STATE\",\n  gameState\n});\n\n// gameSettings, default state = {}\nexport const updateGameSettings = gameSettings => ({\n  type: \"UPDATE_GAME_SETTINGS\",\n  gameSettings\n});\n\n// Show win modal, default state = {}\nexport const updateWinModalText = text => ({\n  type: \"UPDATE_WIN_MODAL\",\n  data: { text }\n});\nexport const showWinModal = text => ({\n  type: \"UPDATE_WIN_MODAL\",\n  data: { show: true, ...(text ? { text } : {}) }\n});\nexport const hideWinModal = () => ({\n  type: \"UPDATE_WIN_MODAL\",\n  data: { show: false }\n});\n\n// Trigger saga functions\n// ======================\nexport const executePlay = () => ({ type: \"EXECUTE_PLAY\" });\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { updateDx } from \"../actions\";\nimport { createStructuredSelector } from \"reselect\";\nimport { Stage, Layer, Rect, Text } from \"react-konva\";\nimport Konva from \"konva\";\n\nconst stageWrapperId = \"stage-wrapper\";\n\nconst BackgroundGradient = ({ bottom, top, height, width }) => (\n  <Rect\n    width={width}\n    height={height}\n    fillLinearGradientStartPoint={{ x: 0, y: 0 }}\n    fillLinearGradientEndPoint={{ x: 0, y: height }}\n    fillLinearGradientColorStops={[0, top, 1, bottom]}\n  />\n);\n\nconst Base = props => (\n  <Rect\n    {...props}\n    fillLinearGradientStartPoint={{ x: 0, y: 0 }}\n    fillLinearGradientEndPoint={{ x: 0, y: props.height }}\n    fillLinearGradientColorStops={[0, \"#5a3f37\", 1, \"#2c7744\"]}\n  />\n);\n\nclass GameRect extends React.Component {\n  state = {\n    color: \"yellow\"\n  };\n  handleClick = () => {\n    this.setState({\n      color: Konva.Util.getRandomColor()\n    });\n  };\n  render() {\n    return (\n      <Rect\n        {...this.props}\n        fillLinearGradientStartPoint={{ x: 0, y: 0 }}\n        fillLinearGradientEndPoint={{ x: this.props.width, y: 0 }}\n        fillLinearGradientColorStops={[0, \"#f7971e\", 1, \"#ffd200\"]}\n        stroke={\"#8c6300\"}\n        strokeWidth={1}\n        onClick={this.handleClick}\n      />\n    );\n  }\n}\n\n// \"#2bc0e4\", 1, \"#eaecc6\"\nconst canvasMaxWidth = 600;\nfunction getContainerWidth() {\n  return (document.getElementById(stageWrapperId) || {}).offsetWidth || 0;\n  // return window.innerWidth\n}\nfunction computeWidth() {\n  const containerWidth = getContainerWidth();\n  return containerWidth < canvasMaxWidth ? containerWidth : canvasMaxWidth;\n}\nfunction computeScale() {\n  const containerWidth = getContainerWidth();\n  return containerWidth < canvasMaxWidth ? containerWidth / canvasMaxWidth : 1;\n}\n\nclass DisplayGameState extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      stageWidth: computeWidth(),\n      stageScale: computeScale()\n    };\n  }\n\n  fitStageIntoParentContainer() {\n    this.setState({ stageWidth: computeWidth(), stageScale: computeScale() });\n  }\n\n  componentDidMount() {\n    window.addEventListener(\n      \"resize\",\n      this.fitStageIntoParentContainer.bind(this)\n    );\n    this.fitStageIntoParentContainer.bind(this)();\n  }\n  render() {\n    // Positions array\n    const gameStateLoaded = Array.isArray(this.props.gameState);\n    const gameState = this.props.gameState || [];\n    // Size constants\n    const canvasMaxHeight = 800;\n\n    const width = 200;\n    const height = 30;\n    const baseHeight = 100;\n\n    // Actual variables used in render\n    // NOT RESPONSIVE\n    // const stageScale = 1;\n    // const canvasWidth = canvasMaxHeight;\n    // RESPONSIVE\n    const stageScale = this.state.stageScale;\n    const canvasWidth = this.state.stageWidth;\n    // ====\n    const canvasHeight = canvasMaxHeight;\n    const halfWidth = width / 2;\n    const startingY = canvasHeight - baseHeight;\n    const startingX = canvasWidth / stageScale / 2;\n\n    const lastRectX =\n      startingX +\n      halfWidth * (gameState[gameState.length - 1] || 0) -\n      width / 2;\n    const boundRight = lastRectX + halfWidth;\n    const boundLeft = lastRectX - halfWidth;\n    const topReactY = 70;\n    const dx = this.props.dx > 1 ? 1 : this.props.dx < -1 ? -1 : this.props.dx;\n\n    return (\n      <div\n        id={stageWrapperId}\n        style={{ justifyContent: \"center\", display: \"flex\" }}\n      >\n        <Stage\n          style={{\n            padding: 0,\n            margin: \"auto\",\n            display: \"block\"\n          }}\n          width={canvasWidth}\n          height={canvasHeight * stageScale}\n          scaleX={stageScale}\n          scaleY={stageScale}\n        >\n          {/* Sky, background color */}\n          <Layer>\n            <BackgroundGradient\n              width={canvasMaxWidth}\n              height={canvasHeight}\n              bottom={\"#eaecc6\"}\n              top={\"#2bc0e4\"}\n            />\n          </Layer>\n          {/* Ground base */}\n          <Layer>\n            <Base\n              x={startingX - width / 2}\n              y={canvasHeight}\n              width={width}\n              height={-baseHeight + height}\n            />\n          </Layer>\n          {/* All static coins */}\n          <Layer>\n            {gameState.map((x, i) => (\n              <GameRect\n                key={i}\n                x={startingX + halfWidth * x - width / 2}\n                y={startingY - i * height}\n                width={width}\n                height={height}\n              />\n            ))}\n          </Layer>\n\n          <Layer>\n            {/* Rectangle hovering, dragable to select a dx */}\n            {gameStateLoaded ? (\n              <GameRect\n                x={lastRectX + (dx || 0) * halfWidth}\n                y={topReactY}\n                width={width}\n                height={height}\n                draggable\n                onDragStart={e => {\n                  this.setState({ isDragging: true });\n                }}\n                onDragEnd={e => {\n                  this.setState({ isDragging: false });\n                  this.props.updateDx(\n                    (\n                      (e.target._lastPos.x - stageScale * lastRectX) /\n                      (stageScale * halfWidth)\n                    ).toFixed(3)\n                  );\n                }}\n                dragBoundFunc={pos => ({\n                  x:\n                    pos.x > stageScale * boundRight\n                      ? stageScale * boundRight\n                      : pos.x < stageScale * boundLeft\n                      ? stageScale * boundLeft\n                      : pos.x,\n                  y: stageScale * topReactY\n                })}\n              />\n            ) : null}\n\n            {/* Text helper, only shows if the rectanlge is being dragged */}\n            {this.state.isDragging ? (\n              <Text\n                text=\"Drop to select a position\"\n                fontSize={18 / stageScale}\n                x={canvasWidth / stageScale / 2 - 80 / stageScale}\n                y={topReactY / 2 - 10}\n                shadowBlur={5}\n                fill={\"white\"}\n              />\n            ) : null}\n          </Layer>\n        </Stage>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = createStructuredSelector({\n  gameState: state => state.gameState,\n  dx: state => state.dx\n});\n\nconst mapDispatchToProps = {\n  updateDx\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DisplayGameState);\n","// Selectors\n\n// towerGameInstance, default state = null\nexport const getTowerGameInstance = state => state.towerGameInstance;\n\n// feedback, default state = null\nexport const getFeedback = state => state.feedback;\n\n// dx, default state = 0\nexport const getDx = state => state.dx;\n\n// results, default state = {}\nexport const getResults = state => state.results;\n\n// network, default state = null\nexport const getNetwork = state => state.network;\nexport const getContractAddress = state =>\n  (getNetwork(state) || {}).contractAddress;\nexport const getNetworkLink = state => (getNetwork(state) || {}).link;\nexport const getBalance = state => (getNetwork(state) || {}).balance;\n\n// gameState, default state = null\nexport const getGameState = state => state.gameState;\n\n// gameSettings, default state = {}\nexport const getGameSettings = state => state.gameSettings;\nexport const getWidth = state => getGameSettings(state).width;\nexport const getPlayPrice = state => getGameSettings(state).playPrice;\n\n// Show win modal, default state = false\nexport const getWinModal = state => state.winModal;\nexport const getWinModalShow = state => (getWinModal(state) || {}).show;\nexport const getWinModalText = state => (getWinModal(state) || {}).text;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport * as s from \"../selectors\";\nimport { updateDx, executePlay } from \"../actions\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport Button from \"react-bootstrap/Button\";\nimport Big from \"big.js\";\n\nconst inputId = \"play-input-position\";\n\nconst ExecutePlay = ({ dx, updateDx, executePlay, playPrice }) => (\n  <div>\n    <h5 className=\"sub-sub-title\">\n      Execute play{\" \"}\n      {playPrice\n        ? `(${Big(playPrice)\n            .div(Big(1e18))\n            .round(5)\n            .toString()} ETH)`\n        : null}\n    </h5>\n    <InputGroup>\n      <FormControl\n        id={inputId}\n        type=\"number\"\n        placeholder=\"Coin position\"\n        aria-label=\"Coin position\"\n        aria-describedby=\"basic-addon2\"\n        value={dx || \"\"}\n        onChange={e => {\n          const _dx = e.target.value;\n          if (_dx <= 1 && _dx >= -1) updateDx(_dx);\n        }}\n      />\n      <InputGroup.Append>\n        <Button variant=\"info\" onClick={executePlay}>\n          Play\n        </Button>\n      </InputGroup.Append>\n    </InputGroup>\n  </div>\n);\n\nconst mapStateToProps = createStructuredSelector({\n  dx: s.getDx,\n  playPrice: s.getPlayPrice\n});\n\nconst mapDispatchToProps = {\n  updateDx,\n  executePlay\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ExecutePlay);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport * as s from \"../selectors\";\nimport Card from \"react-bootstrap/Card\";\nimport TimeAgo from \"javascript-time-ago\";\nimport en from \"javascript-time-ago/locale/en\";\nimport Big from \"big.js\";\nimport nameGenerator from \"../randomNameGenerationSource/nameGenerator\";\n\nconst useNameGenerator = true;\n\nconst ExternalLinkIcon = ({ size }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    width={size}\n    height={size}\n  >\n    <path\n      fill=\"currentColor\"\n      d=\"M 5 3 C 3.9069372 3 3 3.9069372 3 5 L 3 19 C 3 20.093063 3.9069372 21 5 21 L 19 21 C 20.093063 21 21 20.093063 21 19 L 21 12 L 19 12 L 19 19 L 5 19 L 5 5 L 12 5 L 12 3 L 5 3 z M 14 3 L 14 5 L 17.585938 5 L 8.2929688 14.292969 L 9.7070312 15.707031 L 19 6.4140625 L 19 10 L 21 10 L 21 3 L 14 3 z\"\n    />\n  </svg>\n);\n\nTimeAgo.addLocale(en);\nconst timeAgo = new TimeAgo(\"en-US\");\n\nwindow.timeAgo = timeAgo;\n\nconst trimString = s =>\n  typeof s === \"string\" && s.length > 10 ? `${s.slice(0, 10)}...` : s;\n\nconst byBlockNum = (a, b) => {\n  if (!(a || {}).blockNumber) return -1;\n  if (!(b || {}).blockNumber) return 1;\n  return (b.blockNumber || 0) - (a.blockNumber || 0);\n};\n\nconst getTimestampMs = ts => (ts ? (ts > 1e11 ? ts : ts * 1000) : ts);\nconst msThreshold = 24 * 60 * 60 * 1000;\n\nconst DisplayResults = ({ results, link, playPrice }) => {\n  const pending = [];\n  const recent = [];\n  const previous = [];\n  for (const result of Object.values(results).sort(byBlockNum)) {\n    if (!result.blockNumber && !result.error) pending.push(result);\n    else if (\n      result.error ||\n      (result.timestamp &&\n        Date.now() - getTimestampMs(result.timestamp) < msThreshold)\n    )\n      recent.push(result);\n    else previous.push(result);\n  }\n  const categories = [\n    {\n      name: \"Pending plays\",\n      items: pending\n    },\n    {\n      name: \"Recent plays\",\n      items: recent\n    },\n    {\n      name: \"Previous plays\",\n      items: previous\n    }\n  ];\n  return categories\n    .filter(category => category.items.length)\n    .map(category => (\n      <React.Fragment key={category.name}>\n        <h5 className=\"sub-sub-title\">{category.name}</h5>\n        {category.items.map((result, i) => {\n          const {\n            player = \"\",\n            hash = \"\",\n            fallingCoins = 0,\n            timestamp = \"\",\n            error = \"\",\n            dx\n          } = result;\n          const pending = !Boolean(result.blockNumber) && !error;\n          const won = fallingCoins > 0;\n          const yourAddress = (\n            (window.ethereum || {}).selectedAddress || \"\"\n          ).toLowerCase();\n          const itsYou =\n            pending ||\n            (yourAddress && yourAddress === (player || \"\").toLowerCase());\n          const playerName = itsYou\n            ? \"You\"\n            : useNameGenerator && player.length > 20\n            ? nameGenerator(player)\n            : trimString(player);\n\n          const timestampMs = getTimestampMs(timestamp);\n          const date = pending\n            ? \"pending\"\n            : timestampMs\n            ? Date.now() - timestampMs > msThreshold\n              ? new Date(getTimestampMs(timestamp))\n                  .toLocaleString(\"en-GB\")\n                  .split(\",\")[0]\n              : timeAgo.format(new Date(getTimestampMs(timestamp)))\n            : null;\n          const wonAmount = won\n            ? playPrice\n              ? Big(playPrice || 0)\n                  .div(Big(1e18))\n                  .times(fallingCoins)\n                  .toString() + \" ETH\"\n              : fallingCoins + \" coins\"\n            : null;\n          return (\n            <Card\n              key={hash || i}\n              body\n              className={`mb-2 app-card ${\n                pending ? \"pending\" : won ? \"won\" : \"\"\n              }`}\n            >\n              <div\n                className=\"d-flex justify-content-between\"\n                style={{ opacity: itsYou ? 0.8 : 0.5 }}\n              >\n                <div>\n                  {error ? (\n                    <React.Fragment>\n                      <strong>Error! </strong> {String(error)}\n                    </React.Fragment>\n                  ) : (\n                    <React.Fragment>\n                      {playerName}{\" \"}\n                      {won ? (\n                        <span>won {wonAmount}</span>\n                      ) : (\n                        <span>\n                          played <span style={{ opacity: 0.3 }}>({dx})</span>\n                        </span>\n                      )}\n                    </React.Fragment>\n                  )}\n                </div>\n                <div>\n                  {date}{\" \"}\n                  {link && hash ? (\n                    <a\n                      href={`${link}${hash}`}\n                      rel=\"noopener noreferrer\"\n                      target=\"_blank\"\n                    >\n                      <ExternalLinkIcon size={16} />\n                    </a>\n                  ) : null}\n                </div>\n              </div>\n            </Card>\n          );\n        })}\n      </React.Fragment>\n    ));\n};\n\nconst mapStateToProps = createStructuredSelector({\n  results: s.getResults,\n  link: s.getNetworkLink,\n  playPrice: s.getPlayPrice\n});\n\nconst mapDispatchToProps = {};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DisplayResults);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport Card from \"react-bootstrap/Card\";\nimport * as s from \"../selectors\";\nimport Big from \"big.js\";\n\nconst ExecutePlay = ({ balance }) =>\n  typeof balance !== \"undefined\" ? (\n    <div>\n      <h5 className=\"sub-sub-title\">Your balance</h5>\n      <Card\n        body\n        className=\"mb-2 app-card\"\n        style={{ fontSize: \"120%\", fontWeight: 600, opacity: 0.8 }}\n      >\n        {Big(balance || 0)\n          .div(Big(1e18))\n          .round(5)\n          .toString() + \" ETH\"}\n      </Card>\n    </div>\n  ) : null;\n\nconst mapStateToProps = createStructuredSelector({\n  balance: s.getBalance\n});\n\nconst mapDispatchToProps = {};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ExecutePlay);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport * as s from \"../selectors\";\nimport { hideWinModal } from \"../actions\";\nimport Modal from \"react-bootstrap/Modal\";\nimport winGif from \"../img/win.gif\";\n\nconst WinModal = ({ show, text, hideWinModal }) => (\n  <>\n    <Modal show={show} onHide={hideWinModal.bind(this)}>\n      <Modal.Header closeButton style={{ backgroundColor: \"#f0f0f0\" }}>\n        <Modal.Title />\n      </Modal.Header>\n      <Modal.Body>\n        <div className=\"d-flex justify-content-center mt-3\">\n          <span role=\"img\" aria-label=\"party\" style={{ fontSize: \"200%\" }}>\n             {text}! \n          </span>\n        </div>\n\n        <div\n          className=\"d-flex justify-content-center mb-3\"\n          style={{ fontSize: \"80%\", opacity: 0.5 }}\n        >\n          And it's legit, check it on etherscan!\n        </div>\n        <div className=\"d-flex justify-content-center mb-5\">\n          <img src={winGif} alt=\"celebration!\" />\n        </div>\n      </Modal.Body>\n    </Modal>\n  </>\n);\n\nconst mapStateToProps = createStructuredSelector({\n  show: s.getWinModalShow,\n  text: s.getWinModalText\n});\n\nconst mapDispatchToProps = {\n  hideWinModal\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(WinModal);\n","import React, { Component } from \"react\";\nimport \"./App.css\";\n// Components\nimport Header from \"./components/Header\";\nimport GeneralFeedback from \"./components/GeneralFeedback\";\nimport DisplayGameState from \"./components/DisplayGameState\";\nimport ExecutePlay from \"./components/ExecutePlay\";\nimport DisplayResults from \"./components/DisplayResults\";\nimport DisplayBalance from \"./components/DisplayBalance\";\nimport WinModal from \"./components/WinModal\";\n// Bootstrap\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"app\">\n        <Header />\n        <div className=\"app-body\">\n          <Container className=\"mt-4 mb-5\">\n            <Row>\n              <Col sm={7} className=\"mb-4\">\n                <DisplayGameState />\n              </Col>\n              <Col sm={5} className=\"mb-4 side-column-controls\">\n                <GeneralFeedback />\n                <div className=\"horizontal-line\" />\n                <ExecutePlay />\n                <div className=\"horizontal-line\" />\n                <DisplayBalance />\n                <div className=\"horizontal-line\" />\n                <DisplayResults />\n              </Col>\n            </Row>\n          </Container>\n          <WinModal />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from \"redux\";\n\n// Define global reducers. This live outside from the module construction\nconst globalReducers = {\n  towerGameInstance: (state = null, action) => {\n    switch (action.type) {\n      case \"UPDATE_INSTANCE\":\n        return action.towerGameInstance;\n      default:\n        return state;\n    }\n  },\n  feedback: (state = null, action) => {\n    switch (action.type) {\n      case \"UPDATE_FEEDBACK\":\n        return action.feedback;\n      default:\n        return state;\n    }\n  },\n  dx: (state = 0, action) => {\n    switch (action.type) {\n      case \"UPDATE_DX\":\n        return action.dx;\n      default:\n        return state;\n    }\n  },\n  results: (state = {}, action) => {\n    switch (action.type) {\n      case \"UPDATE_RESULT\":\n        return {\n          ...state,\n          [action.id]: action.event\n        };\n      case \"UPDATE_RESULTS\":\n        return {\n          ...state,\n          ...action.indexedEvents\n        };\n      default:\n        return state;\n    }\n  },\n  network: (state = null, action) => {\n    switch (action.type) {\n      case \"UPDATE_NETWORK\":\n        return {\n          ...state,\n          ...action.network\n        };\n      default:\n        return state;\n    }\n  },\n  gameState: (state = null, action) => {\n    switch (action.type) {\n      case \"UPDATE_GAME_STATE\":\n        return action.gameState;\n      default:\n        return state;\n    }\n  },\n  gameSettings: (state = {}, action) => {\n    switch (action.type) {\n      case \"UPDATE_GAME_SETTINGS\":\n        return {\n          ...state,\n          ...action.gameSettings\n        };\n      default:\n        return state;\n    }\n  },\n  winModal: (state = {}, action) => {\n    switch (action.type) {\n      case \"UPDATE_WIN_MODAL\":\n        return {\n          ...state,\n          ...action.data\n        };\n      default:\n        return state;\n    }\n  }\n};\n\nexport default combineReducers(globalReducers);\n","import Web3 from \"web3\";\n\nconst web3 = window.ethereum\n  ? new Web3(window.ethereum) // Modern dapp browsers\n  : window.web3\n  ? new Web3(window.web3.currentProvider) // Legacy dapp browsers\n  : null; // Non-dapp browsers\n\nconsole.log(web3 ? `Web3 version: ${web3.version}`: 'Metamask is not enabled');\n\nexport default web3;\n","import { call, fork, put, select, take, takeEvery } from \"redux-saga/effects\";\nimport { eventChannel } from \"redux-saga\";\nimport web3 from \"./web3\";\nimport towerGame from \"./contracts/TowerGame.json\";\nimport networks from \"./networks.json\";\nimport * as s from \"./selectors\";\nimport * as a from \"./actions\";\nimport Big from \"big.js\";\n\nfunction* updateState() {\n  try {\n    /**\n     * Fetch parameters\n     */\n    const contractAddress = yield select(s.getContractAddress);\n    const towerGameContract = getTowerGameInstanceHelper(contractAddress);\n    const width = yield select(s.getWidth);\n\n    /**\n     * Get state and update if necessary (Prevent useless updates)\n     */\n    const gameState = yield call(getGameStateHelper, towerGameContract, width);\n    console.log({ gameState });\n    yield put(a.updateGameState(gameState));\n  } catch (e) {\n    console.error(`Error on updateState: ${e.stack}`);\n  }\n}\n\nfunction* subscribeToStateChanges() {\n  try {\n    /**\n     * Fetch parameters\n     */\n    const contractAddress = yield select(s.getContractAddress);\n    const towerGameContract = getTowerGameInstanceHelper(contractAddress);\n    const width = yield select(s.getWidth);\n\n    /**\n     * Create subscription channel\n     */\n    const subscriptionChannel = eventChannel(emit => {\n      subscribeToResultsHelper(towerGameContract, width, emit);\n      return function unsubscribe() {};\n    });\n    while (true) {\n      try {\n        const event = yield take(subscriptionChannel);\n        console.log(\"Received state changed event\", event);\n        yield put(a.updateResult(event.hash, event));\n        yield fork(updateState);\n        yield fork(getUserBalance);\n        /**\n         * Verify if this is a winning event for the user\n         */\n        const account = yield call(getUserAccountWithoutEnable);\n        if (\n          account &&\n          event.player &&\n          account.toLowerCase() === event.player.toLowerCase() &&\n          event.fallingCoins > 0\n        ) {\n          const playPrice = yield select(s.getPlayPrice);\n          const winAmount = Big(playPrice || 0)\n            .div(Big(1e18))\n            .times(event.fallingCoins)\n            .toString();\n          yield put(a.showWinModal(`You won ${winAmount} ETH`));\n        }\n      } catch (err) {\n        console.error(\"subscriptionChannel error:\", err);\n      }\n    }\n  } catch (e) {\n    console.error(`Error on subscribeToStateChanges: ${e.stack}`);\n  }\n}\n\nfunction* initialize() {\n  try {\n    /**\n     * Print feedback if metamask is not installed\n     */\n    if (!web3) {\n      return yield put(\n        a.updateFeedbackError(\n          \"Non-Ethereum browser detected. You should consider trying MetaMask!\"\n        )\n      );\n    }\n\n    /**\n     * Fetch network information\n     */\n    yield put(a.updateFeedbackInfo(\"Loading network info...\"));\n    const networkId = yield call(web3.eth.net.getId);\n    // networkMetadata = { name, desc }\n    const networkMetadata = networks[networkId] || {};\n    const contractAddress = (towerGame.networks[networkId] || {}).address;\n    yield put(\n      a.updateNetwork({ networkId, contractAddress, ...networkMetadata })\n    );\n    // Stop initialization, network ID not supported\n    if (contractAddress) {\n      yield put(a.updateFeedbackInfo(`Loaded network! ID ${networkId}`));\n    } else {\n      yield put(a.updateFeedbackError(`Network ID ${networkId} not supported`));\n      return console.error(`Network ID ${networkId} not supported`);\n    }\n    // Fetch user balance if possible\n    yield fork(getUserBalance);\n\n    /**\n     * Initialize game instance\n     */\n\n    const towerGameContract = getTowerGameInstanceHelper(contractAddress);\n    // Get game settings\n    const gameSettings = yield call(getGameSettingsHelper, towerGameContract);\n    yield put(a.updateGameSettings(gameSettings));\n    // Update game state\n    yield put(a.updateFeedbackInfo(\"Updating game state...\"));\n    yield call(updateState);\n    yield put(a.updateFeedbackInfo(\"Updated game state!\"));\n    // Fetch old events\n    const indexedEvents = yield call(\n      getPastResultsHelper,\n      towerGameContract,\n      gameSettings.width\n    );\n    yield put(a.updateResults(indexedEvents));\n    // Subscribe to new events\n    yield fork(subscribeToStateChanges);\n  } catch (e) {\n    console.error(`Error on initialize: ${e.stack}`);\n  }\n}\n\nfunction* executePlay() {\n  let id = randomHexString();\n  try {\n    /**\n     * Fetch necessary parameters\n     */\n    const contractAddress = yield select(s.getContractAddress);\n    const towerGameContract = getTowerGameInstanceHelper(contractAddress);\n\n    const dx = yield select(s.getDx);\n    const width = yield select(s.getWidth);\n    const playPrice = yield select(s.getPlayPrice);\n    const account = yield call(getUserAccount);\n    // Fetch the user balance after a possible authorization\n    yield fork(getUserBalance);\n    const options = { from: account, value: playPrice };\n    const dxScaled = dx === 1 ? dx * width - 1 : dx * width;\n\n    /**\n     * Create play instance and compute gas\n     */\n\n    const play = towerGameContract.methods.play(dxScaled);\n    const gasEstimate = yield call(estimatePlayGasHelper, play, options);\n    // Provide some overhead gas.\n    // - If the gasUsed is exact, web3 or the node thinks it run out of gas\n    // - If some other tx is run before this one, it may alter the amount of gas needed\n    const gas = Math.floor(1.1 * gasEstimate);\n\n    /**\n     * Handle the transaction execution\n     */\n    const txChannel = eventChannel(emit => {\n      play\n        .send({ ...options, gas })\n        // \"transactionHash\" returns String: is fired right after the transaction\n        // is sent and a transaction hash is available.\n        .on(\"transactionHash\", hash => {\n          id = hash;\n          console.log(`tx id ${id} on transactionHash`, { hash });\n          // Store initial state in the store to show in the UI\n          emit({ hash, player: account, dx });\n        })\n        // \"receipt\" returns Object: is fired when the transaction receipt is available.\n        // Receipts from contracts will have no logs property, but instead an events\n        // property with event names as keys and events as properties.\n        .on(\"receipt\", receipt => {\n          console.log(`tx id ${id} on receipt`, { receipt });\n          emit(parseReceipt(receipt, width));\n        })\n        // \"error\" returns Error: is fired if an error occurs during sending.\n        // If an out of gas error, the second parameter is the receipt.\n        .on(\"error\", (error, receipt) => {\n          console.log(`tx id ${id} on receipt`, { error, receipt });\n          emit({ error: parseErrorString(error.message) });\n        });\n      return function unsubscribe() {};\n    });\n\n    while (true) {\n      try {\n        const data = yield take(txChannel);\n        yield put(a.updateResult(id, data));\n      } catch (e) {\n        console.error(`subscriptionChannel error: ${e.stack}`);\n        yield put(a.updateResult(id, { error: parseErrorString(e.message) }));\n      }\n    }\n  } catch (e) {\n    console.error(`Error on executePlay: ${e.stack}`);\n    yield put(a.updateResult(id, { error: parseErrorString(e.message) }));\n  }\n}\n\nfunction* getUserBalance() {\n  try {\n    const account = yield call(getUserAccountWithoutEnable);\n    if (account) {\n      const balance = yield call(web3.eth.getBalance, account);\n      yield put(a.updateBalance(balance));\n    }\n  } catch (e) {\n    console.error(`Error on getUserBalance: ${e.stack}`);\n  }\n}\n\n/**\n * Helpers\n * =======\n */\n\nasync function getUserAccountWithoutEnable() {\n  // On modern dApp browsers the account maybe available\n  if (window.ethereum) {\n    return window.ethereum.selectedAddress;\n  }\n  // On non-modern dApp browser the accounts will be available for sure\n  const accounts = await web3.eth.getAccounts();\n  return accounts[0];\n}\n\nasync function getUserAccount() {\n  // Enable accounts on modern dApp browsers\n  if (window.ethereum && window.ethereum.enable) {\n    await window.ethereum.enable();\n  }\n  const accounts = await web3.eth.getAccounts();\n  return accounts[0];\n}\n\n/**\n * Abstracts contract instance creation\n * @return {towerGameInstance} contract\n */\nfunction getTowerGameInstanceHelper(address) {\n  verifyArguments({ address }, { address: \"string\" });\n  return new web3.eth.Contract(towerGame.abi, address);\n}\n\n/**\n * Fetch contract state\n * @param {towerGameInstance} contract\n *\n */\nasync function getGameStateHelper(contract, width) {\n  verifyArguments({ contract, width }, { contract: \"object\", width: \"string\" });\n  const relativePositions = await contract.methods\n    .getCoinPositionsArray()\n    .call();\n  return parseGameState(relativePositions, width);\n}\n\n/**\n * Fetches the game settings:\n * - int width: 50000,\n * - int playPrice: 10000000000\n * @param {towerGameInstance} contract\n * @return {Object}\n */\nasync function getGameSettingsHelper(contract) {\n  verifyArguments({ contract }, { contract: \"object\" });\n  const [width, playPrice] = await Promise.all([\n    contract.methods.width().call(),\n    contract.methods.playPrice().call()\n  ]);\n  return { width, playPrice };\n}\n\n/**\n * Fetches past results from PlayResult events\n * @param {towerGameInstance} contract\n * @return {Array}\n */\nasync function getPastResultsHelper(contract, width) {\n  verifyArguments({ contract, width }, { contract: \"object\", width: \"string\" });\n  const events = await contract.getPastEvents(\"PlayResult\", { fromBlock: 0 });\n  const eventsIndexed = {};\n  await Promise.all(\n    events.map(async event => {\n      const block = await web3.eth.getBlock(event.blockNumber);\n      eventsIndexed[event.transactionHash] = {\n        ...parsePlayResultEvent(event, width),\n        timestamp: block.timestamp\n      };\n    })\n  );\n  return eventsIndexed;\n}\n\n/**\n * Subscribes to PlayResult events\n * {\n *    blockNumber: 10368774,\n *    returnValues: {\n *      coinCount: \"2\",\n *      dx: \"-45000\",\n *      fallingCoins: \"2\",\n *      player: \"0x204A1159f...\"\n *    }\n *  }\n * @param {towerGameInstance} contract\n * @param {Function} cb (error, event) => {}\n */\nfunction subscribeToResultsHelper(contract, width, cb) {\n  verifyArguments(\n    { contract, width, cb },\n    { contract: \"object\", width: \"string\", cb: \"function\" }\n  );\n  contract.events.PlayResult({}, (error, event) => {\n    if (error) console.error(\"Error getting PlayResult event\", error);\n    else\n      cb({\n        ...parsePlayResultEvent(event, width),\n        timestamp: Math.floor(Date.now() / 1000)\n      });\n  });\n}\n\n/**\n * Computes the estimated gas of the play method\n * @param {playMethodInstance} play\n * @param {Object} options {from: playerAddress, value: playPrice in Wei}\n */\nasync function estimatePlayGasHelper(play, options) {\n  verifyArguments({ play, options }, { options: \"object\" });\n  const maxGas = 5000000;\n  const computedGas = await play.estimateGas({ ...options, gas: maxGas });\n  if (computedGas >= maxGas) throw Error(\"Method ran out of gas\");\n  return computedGas;\n}\n\n/**\n * Random hex string of ~12 bytes\n */\nfunction randomHexString() {\n  return Big(String(Math.random()).slice(2) + Date.now()).toString(16);\n}\n\n/**\n * Utilities\n * =========\n */\n\n/**\n * Computes the absolute positions of the game state from the relative positions\n * @param {Array} relativePositions [1000, -1000, 500]\n * @param {Integer} width 1000\n * @return {Array} [1, 0, 0.5]\n */\nfunction parseGameState(dxs, width) {\n  verifyArguments({ dxs, width }, { dxs: \"array\", width: \"string\" });\n  const roundingDigits = 4;\n  const widthBigNumber = Big(width);\n  // First do a cumulative sum of the relative positions\n  const xs = [];\n  dxs\n    .map(dx => Big(dx))\n    .reduce((xPrev, dxi, i) => (xs[i] = xPrev.plus(dxi)), Big(0));\n  return xs.map(x =>\n    x\n      .div(widthBigNumber)\n      .round(roundingDigits)\n      .toString()\n  );\n}\n\nfunction parseReceipt(receipt, width) {\n  verifyArguments({ receipt, width }, { receipt: \"object\", width: \"string\" });\n  // PlayResult event may not be available\n  const event = (receipt.events || {}).PlayResult;\n  return {\n    ...(event ? parsePlayResultEvent(event, width) : {}),\n    timestamp: Math.floor(Date.now() / 1000),\n    gasUsed: receipt.gasUsed\n  };\n}\n\n/**\n * Parses a play result event\n * @param {event} event\n *  {\n *    transactionHash: 0x12012380abcbab3b31b42b412,\n *    blockNumber: 10368774,\n *    returnValues: {\n *      coinCount: \"2\",\n *      dx: \"-45000\",\n *      fallingCoins: \"2\",\n *      player: \"0x204A1159f...\"\n *    }\n *    raw: {\n *      topics: [\n *        '0xfd43ade1c09fa...', // Event id\n *        '0x7f9fade1c0d57...'  // First indexed parameter (abi encoded)\n *      ]\n *    }\n *  }\n */\nfunction parsePlayResultEvent(event, width) {\n  verifyArguments({ event, width }, { event: \"object\", width: \"string\" });\n  return {\n    // Return values:\n    fallingCoins: event.returnValues.fallingCoins,\n    coinCount: event.returnValues.coinCount,\n    dx: parseDx(event.returnValues.dx, width),\n    player: parsePlayer(event),\n    // Transaction hash (if available):\n    ...(event.transactionHash ? { hash: event.transactionHash } : {}),\n    // BlockNumber (if available):\n    ...(event.blockNumber ? { blockNumber: event.blockNumber } : {})\n  };\n}\n\n/**\n * Return dx formated:\n * - +0.30\n * - -0.75\n * - +0.00\n * @param {String} dx\n * @param {String} width\n */\nfunction parseDx(dx, width) {\n  if (!width) return null;\n  const dxString = width\n    ? Big(dx)\n        .div(Big(width))\n        .round(2)\n        .toString()\n    : null;\n  const dxDecimal = parseFloat(dxString).toFixed(2);\n  return dxDecimal > 0 ? \"+\" + String(dxDecimal) : String(dxDecimal);\n}\n\n/**\n * For some wierd reason the indexed logged value \"player\" is not correctly parsed\n * and returns always the same address\n * @param {Object} event\n */\nfunction parsePlayer(event) {\n  verifyArguments({ event }, { event: \"object\" });\n  const secondTopic = event.raw.topics[1];\n  return secondTopic\n    ? \"0x\" + secondTopic.slice(2 + 2 * (32 - 20))\n    : event.returnValues.player;\n}\n\nfunction parseErrorString(s) {\n  let stringToReturn;\n  try {\n    /**\n     * - Split by newline and keep the first line only\n     * - Try to parse JSON and assume it's an error object\n     */\n    /* eslint-disable no-useless-escape */\n\n    if (!s) stringToReturn = s;\n    else if (typeof s === \"string\") {\n      stringToReturn = s = s.split(/\\r?\\n/)[0] || \"\";\n      const possibleJsons = s.match(/\\{.*\\:.*\\}/g);\n      if (Array.isArray(possibleJsons)) {\n        for (const possibleJson of possibleJsons) {\n          try {\n            const json = JSON.parse(possibleJson);\n            if (json.message) {\n              stringToReturn = json.message;\n              break;\n            }\n          } catch (e) {\n            //\n          }\n        }\n        stringToReturn = s;\n      }\n    }\n  } catch (e) {\n    stringToReturn = s;\n  } finally {\n    return String(stringToReturn);\n  }\n}\n\n/**\n * Verify arguments\n * @param {Object} kwargs\n * @param {Object} typeMapping\n */\nfunction verifyArguments(kwargs, typeMapping) {\n  for (const key of Object.keys(kwargs)) {\n    if (typeof kwargs[key] === \"undefined\")\n      throw Error(`Argument \"${key}\" must be defined`);\n    if (typeMapping && typeMapping[key]) {\n      if (typeMapping[key] === \"array\") {\n        if (!Array.isArray(kwargs[key]))\n          throw Error(`Argument \"${key}\" must be an Array`);\n      } else if (typeof kwargs[key] !== typeMapping[key])\n        throw Error(\n          `Argument \"${key}\" must be of type ${\n            typeMapping[key]\n          }, instead it is ${typeof kwargs[key]}`\n        );\n    }\n  }\n}\n\nfunction* rootSaga() {\n  yield takeEvery(\"EXECUTE_PLAY\", executePlay);\n  yield fork(initialize);\n}\n\nexport default rootSaga;\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport rootReducer from \"./rootReducer\";\nimport rootSaga from \"./rootSaga\";\n\n// create the saga middleware\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = createStore(\n  rootReducer,\n  // eslint-disable-next-line no-underscore-dangle\n  compose(\n    applyMiddleware(sagaMiddleware),\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  )\n);\n\n// then run the saga\nsagaMiddleware.run(rootSaga);\n\n// For debugging and testing\nwindow.store = store;\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}